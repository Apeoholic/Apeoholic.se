---
layout: post
title: TFS Buddy
date: 2010-06-06 15:29:00
categories: [Gadgets]
author: Jimmy Engstr√∂m
tags: [tfs,leksaker,ibuddy]
hide: false
---
<p>Fick en <a href="http://www.coolstuff.se/i-Buddy">I-Buddy</a> av min fru f&ouml;r n&aring;gon vecka sedan och hade precis i samma veva installerat TFS 2010. <br />Jag mindes <a href="http://www.woodwardweb.com/gadgets/000434.html">Brian the bunny</a> som &auml;r en fantastisk rolig implementation och besl&ouml;t mig f&ouml;r att g&ouml;ra en egen version f&ouml;r min I-Buddy. <br /> <br />F&ouml;rst s&aring; beh&ouml;ver jag kunna lyssna p&aring; events som Team Foundation Server (TFS) 2010 levererar. <br />Det finns en del guider som visar hur man g&ouml;r men jag fick det inte riktigt att lira &auml;nd&aring;, det har h&auml;nt lite grejer i API:et sedan 2005/2008, och de flesta guiderna jag hittade anv&auml;nde asmx. <br />Men tillslut s&aring; hittade jag ett fantastiskt bra kodexempel p&aring; hur man i kod s&auml;tter upp en WCF-tj&auml;nst f&ouml;r TFS <a href="http://geekswithblogs.net/hinshelm/archive/2007/05/30/Creating-WCF-Service-Host-Programmatically.aspx">h&auml;r</a>. <br />Jag ville hellre skapa WCF tj&auml;nsten i kod ist&auml;llet f&ouml;r att h&auml;mta inst&auml;llningar fr&aring;n app.config f&ouml;r att anv&auml;ndarna inte ska beh&ouml;va t&auml;nka p&aring; alla inst&auml;llningar som m&aring;ste g&ouml;ras.</p>
<p><strong>Kort om WCF Tj&auml;nsten</strong> <br />F&ouml;rsta steget &auml;r att skapa en WCF-tj&auml;nst som har en metod som heter Notify. <br /> Jag har valt att skapa <strong><em>en</em></strong> endpoint som hanterar alla olika typer av inkommande anrop ist&auml;llet f&ouml;r att g&ouml;ra som bl.a. Brian the bunny (och m&aring;nga andra) som har en endpoint f&ouml;r varje meddelandetyp. <br /> <br /><strong>Filter med Dynamic Linq <br /></strong>Jag ville att man skulle kunna f&aring; I-Buddyn att g&ouml;ra olika saker s&aring; fort den fick in notifieringen om att n&aring;got &auml;ndrats men ocks&aring; att den skulle kunna tex blinka r&ouml;tt om ett bygge har misslyckats och gr&ouml;nt om det lyckats. <br />Har anv&auml;nt <a href="http://weblogs.asp.net/scottgu/archive/2008/01/07/dynamic-linq-part-1-using-the-linq-dynamic-query-library.aspx">Dynamic Linq</a> en del i andra projekt och k&auml;nde att det &auml;r perfekt f&ouml;r att kunna f&aring; flexibla filter m&ouml;jligheter.</p>
<p>&nbsp;</p>
<p><iframe src="//www.youtube.com/embed/35pMUEqrbeA" frameborder="0" width="640" height="390"></iframe></p>
<p>&nbsp;</p>
<p><strong>F&ouml;rdr&ouml;jning</strong> <br />TFS 2010 har en 2 minuters v&auml;ntetid mellan att saker h&auml;nder tills dess att den skickar ut notifieringar och det kan ju givetvis vara vettigt i vissa fall men jag vill ju ha notifieringarna direkt och lyckligtvis finns det ett enkla s&auml;tt att ta bort v&auml;ntetiden. <br /> <br />Via Power shell: <a href="http://blogs.msdn.com/b/chrisid/archive/2010/03/05/faster-delivery-of-notifications.aspx">Chris Sidi&rsquo;s Blog</a> <br />Via SQL script: <a href="http://consultingblogs.emc.com/crispinparker/archive/2010/03/05/team-foundation-server-2010-rc-job-service-delay.aspx">Crispin Parker&rsquo;s Blog</a></p>
<p><strong>Lycka eller sorg? <br /></strong>N&auml;r jag vaknade f&ouml;r n&aring;gra mornar sedan s&aring; ser jag att min i-buddy lyser r&ouml;tt, det &auml;r en r&auml;tt konstig k&auml;nsla, k&auml;nde mig fantastisk glad av att den lyste r&ouml;tt trots att det betydde att ett nattbygge har fallerat men bevisar att applikationen fungerar =).</p>
<p><strong>N&aring;gra bra resurser <br /></strong><a href="http://blogs.msdn.com/b/granth/archive/2009/10/28/tfs2010-diagnosing-email-and-soap-subscription-failures.aspx">TFS2010: Diagnosing Email and SOAP subscription failures</a><strong> <br /></strong></p>
<p>TFS Buddy finns att ladda hem p&aring; <a href="http://tfsbuddy.codeplex.com/">Codeplex</a> <br />I-Buddy finns att k&ouml;pa p&aring; <a href="http://www.coolstuff.se/i-Buddy">Coolstuff</a>, <a href="http://www.kjell.com/content/templates/shop_main_details.aspx?item=91700&amp;path=">Kjell &amp; Co</a>, <a href="http://www.pixmania.se/se/se/r/i-buddy">Pixmania</a></p>
